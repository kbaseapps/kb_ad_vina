<!doctype html>
<html>
 <head>
  <link rel="stylesheet" type="text/css" href="/narrative/static/style/style.min.css">
 </head>
 <body>
  <h1>AutoDock Vina output</h1>
  <section id="summary">
   <h2>Receptor</h2>
    <a href="{{ receptor }}" title="File used as input for vina.">
      Receptor PDBQT
    </a>
   <h2>Ligands</h2>
   <table>
   {% for log, logdata in logs.items() %}
   {% if loop.first %}
    <tr>
     <th>Ligand</th>
     <th title="Affinity of best candidate.">Affinity</th>
     <th title="The PDBQT file used as input for vina.">Input PDBQT</th>
     <th title="The PDBQT file produced by vina.">Output PDBQT</th>
     <th title="The log output from vina.">Output log</th>
     <!--
     <th>Output Object</th>
     <th>Visualization</th>
     -->
    </tr>
   {% endif %}
    <tr>
     <td>{{ logdata["name"] }}</td>
     <td>{{ logdata["affinity"] }}</td>
     <td>
         <a href="{{ logdata["ligand_pdbqt_input"] }}">
            Vina Input
         </a>
     </td>
     <td>
         <a href="{{ logdata["ligand_pdbqt_output"] }}">
            Vina Output
         </a>
     </td>
     <td>
         <a href="{{ logdata["log_path"] }}">
            Vina Log
         </a>
     </td>
     <!--
     <td>
         <a href="/#dataview/{{ logdata["output_ref"] }}">
            {{ logdata["output_ref"] }}
         </a>
     </td>
     -->
    </tr>
   {% endfor %}
   </table>
   <ul>
    <li><a href="{{ligands_input}}/{{ligands_input}}.zip">Ligand inputs archive</a>: ligands in sdf and pdbqt format used as inputs for Vina</li>
    <li><a href="{{vina_output}}/{{vina_output}}.zip">Vina output archive</a>: all logs and docked ligands</li>
   </ul>
  </section>
  <style>
   table {
    border-collapse: collapse;
    width: 50%;
   }

   td {
    padding: 8px;
    text-align: center;
   }

   tr:nth-child(even) {
    background-color: #f2f2f2;
   }

   th {
    text-align: center;
    padding: 8px;
    background-color: #808080;
    color: white;
   }

   .kb-html-report .nav.nav-tabs {
     margin: 0 -2rem 1rem;
     padding-left: 2rem;
   }

  </style>
 </body>
</html>
